{% extends "base.html" %}
{% block title %}Checkout{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container">
    <h2 class="section-title text-center mb-4">Checkout</h2>

    <div class="table-responsive">
      <table class="table align-middle table-bordered">
        <thead class="table-light">
          <tr>
            <th>Product</th>
            <th>Name</th>
            <th>Qty</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart %}
          <tr>
            <td style="width: 80px;">
              <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" class="img-fluid rounded" style="max-height: 60px;">
            </td>
            <td>{{ item.product.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>€{{ item.total_price|floatformat:2 }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="text-end mt-4">
      <h4>Total: €{{ cart.get_total_price|floatformat:2 }}</h4>
      <p class="text-muted small mt-2">Secure checkout powered by Stripe</p>
      <a href="#" class="btn btn-success btn-lg mt-3">Proceed to Payment</a>
    </div>
  </div>
</section>
{% endblock %}
